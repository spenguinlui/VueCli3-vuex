(function(t){function e(e){for(var o,c,u=e[0],i=e[1],s=e[2],d=0,p=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);h&&h(e);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},c={"app~d0ae3f07":0},a={"app~d0ae3f07":0},r=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-1ed5461a":"31b06736","chunk-22d0fd4b":"268ec9cd","chunk-2d22495b":"406e2270","chunk-380e08cb":"b0af4d3b","chunk-3eb8790e":"2127d396","chunk-3fa18635":"feaed8c3","chunk-2d217536":"ba25e2d6","chunk-4c9f44ca":"26e76639","chunk-4c9d3254":"d97d2fac","chunk-4c9f4e71":"c5cb752e","chunk-4ca01e50":"8c61472e","chunk-567fb1df":"8aebe0af","chunk-184bf356":"4a900bc1","chunk-684f8274":"4f402759","chunk-78129706":"1c5d58b4","chunk-891fb02a":"35eb8ba5","chunk-993049a4":"769c81af","chunk-46453923":"62741ca5","chunk-51223370":"814f32d9","chunk-a0a05e44":"4239e8b1"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-567fb1df":1,"chunk-184bf356":1,"chunk-78129706":1,"chunk-993049a4":1,"chunk-46453923":1,"chunk-51223370":1,"chunk-a0a05e44":1};c[t]?e.push(c[t]):0!==c[t]&&n[t]&&e.push(c[t]=new Promise(function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-1ed5461a":"31d6cfe0","chunk-22d0fd4b":"31d6cfe0","chunk-2d22495b":"31d6cfe0","chunk-380e08cb":"31d6cfe0","chunk-3eb8790e":"31d6cfe0","chunk-3fa18635":"31d6cfe0","chunk-2d217536":"31d6cfe0","chunk-4c9f44ca":"31d6cfe0","chunk-4c9d3254":"31d6cfe0","chunk-4c9f4e71":"31d6cfe0","chunk-4ca01e50":"31d6cfe0","chunk-567fb1df":"2431759e","chunk-184bf356":"85d864f1","chunk-684f8274":"31d6cfe0","chunk-78129706":"05eece5e","chunk-891fb02a":"31d6cfe0","chunk-993049a4":"ac43bd66","chunk-46453923":"ac4bbbfd","chunk-51223370":"ac4bbbfd","chunk-a0a05e44":"206a1eb0"}[t]+".css",a=i.p+o,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var s=r[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===a))return e()}var p=document.getElementsByTagName("style");for(u=0;u<p.length;u++){s=p[u],d=s.getAttribute("data-href");if(d===o||d===a)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var o=e&&e.target&&e.target.src||a,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete c[t],h.parentNode.removeChild(h),n(r)},h.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(h)}).then(function(){c[t]=0}));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise(function(e,n){o=a[t]=[e,n]});e.push(o[2]=r);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(t);var p=new Error;s=function(e){d.onerror=d.onload=null,clearTimeout(h);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+o+": "+c+")",p.name="ChunkLoadError",p.type=o,p.request=c,n[1](p)}a[t]=void 0}};var h=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/VueCli3-vuex/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var h=d;r.push([0,"chunk-vendors~e4173fa2","chunk-vendors~7274e1de","chunk-vendors~00cb062a","chunk-vendors~783709f3","chunk-vendors~fdc6512a","chunk-vendors~d1f71b98","chunk-vendors~f170b6bb","chunk-vendors~d2305125"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r={name:"App"},u=r,i=n("2877"),s=Object(i["a"])(u,c,a,!1,null,null,null),d=s.exports,p=n("8c4f");o["a"].use(p["a"]);var h=new p["a"]({linkExactActiveClass:"active",linkActiveClass:"active",base:Object({NODE_ENV:"production",VUE_APP_APIPATH:"https://vue-course-api.hexschool.io",VUE_APP_CUSTOMPATH:"spenguin10",BASE_URL:"/VueCli3-vuex/"}).PUBLIC_PATH,routes:[{path:"*",redirect:"/login"},{path:"/login",name:"Login",component:function(){return n.e("chunk-78129706").then(n.bind(null,"1954"))}},{path:"/admin",component:function(){return Promise.all([n.e("chunk-567fb1df"),n.e("chunk-184bf356")]).then(n.bind(null,"6740"))},meta:{requiresAuth:!0},children:[{path:"backproducts",name:"backProducts",component:function(){return n.e("chunk-a0a05e44").then(n.bind(null,"7971"))}},{path:"backorders",name:"backOrders",component:function(){return n.e("chunk-4ca01e50").then(n.bind(null,"930b"))}},{path:"backcoupons",name:"backCoupons",component:function(){return n.e("chunk-4c9f4e71").then(n.bind(null,"78d0"))}},{path:"back_customer_orders",name:"backCustomer",component:function(){return n.e("chunk-4c9d3254").then(n.bind(null,"1bfe"))}},{path:"back_slidebar",name:"backSlidebar",component:function(){return n.e("chunk-567fb1df").then(n.bind(null,"00b3"))}}]},{path:"/",component:function(){return Promise.all([n.e("chunk-993049a4"),n.e("chunk-46453923"),n.e("chunk-51223370")]).then(n.bind(null,"39b0"))},children:[{path:"/",name:"customerIndex",component:function(){return n.e("chunk-891fb02a").then(n.bind(null,"4096"))}},{path:"checkout/:orderId",name:"customerCheckout",component:function(){return n.e("chunk-1ed5461a").then(n.bind(null,"1571"))}},{path:"products",name:"customerProducts",component:function(){return Promise.all([n.e("chunk-3fa18635"),n.e("chunk-4c9f44ca")]).then(n.bind(null,"7739"))}},{path:"cart",name:"customerCart",component:function(){return n.e("chunk-380e08cb").then(n.bind(null,"0e72"))}},{path:"order_form",name:"customerOrderForm",component:function(){return n.e("chunk-3eb8790e").then(n.bind(null,"27b7"))}},{path:"order_page",name:"customerOrderPage",component:function(){return n.e("chunk-22d0fd4b").then(n.bind(null,"96e7"))}},{path:"contact",name:"customerContact",component:function(){return n.e("chunk-684f8274").then(n.bind(null,"22bc"))}},{path:"product_page/:id",name:"customerProductPage",component:function(){return Promise.all([n.e("chunk-3fa18635"),n.e("chunk-2d217536")]).then(n.bind(null,"c5f4"))}},{path:"contact_update",name:"customerContactUpdate",component:function(){return n.e("chunk-2d22495b").then(n.bind(null,"e181"))}}]}]}),f=n("2f62"),l=n("bc3a"),m=n.n(l),g={namespaced:!0,state:{products:[],productsAll:[],productAlone:{},pagination:{},price1:0,price2:99999999999999,categories:"all"},actions:{getProducts:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/products?page=").concat(e);t.commit("LOADING",!0,{root:!0}),m.a.get(n).then(function(e){t.commit("PRODUCTS",e.data.products),t.commit("PAGINATION",e.data.pagination),t.commit("LOADING",!1,{root:!0})})},goProductPage:function(t,e){var n=e.vm,o=e.id,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/product/").concat(o);t.commit("LOADING",!0,{root:!0}),m.a.get(c).then(function(e){t.commit("PRODUCTALONE",e.data.product),t.commit("LOADING",!1,{root:!0}),n.$router.push("product_page/".concat(o))})},getProductAlone:function(t,e){var n=e.id,o=e.num,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/product/").concat(n);t.commit("LOADING",!0,{root:!0}),m.a.get(c).then(function(e){e.data.product.num=o,t.commit("PRODUCTALONE",e.data.product),t.commit("LOADING",!1,{root:!0})})},getProductsAll:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/products/all");t.commit("LOADING",!0,{root:!0}),m.a.get(e).then(function(e){t.commit("PRODUCTSALL",e.data.products),t.commit("LOADING",!1,{root:!0})})}},mutations:{PRODUCTS:function(t,e){t.products=e},PRODUCTALONE:function(t,e){t.productAlone=e},SELECTNUM:function(t,e){t.productAlone.qty=e},PAGINATION:function(t,e){t.pagination=e,0!==e&&localStorage.setItem("pagination",JSON.stringify(t.pagination))},PRODUCTSALL:function(t,e){t.productsAll=e,localStorage.setItem("productsAll",JSON.stringify(t.productsAll))},PRICECHANGE:function(t,e){var n=e.price1,o=e.price2;t.price1=n,t.price2=o,t.products=JSON.parse(localStorage.getItem("productsAll"))},CATEGORIESCHANGE:function(t,e){t.categories=e,t.products=JSON.parse(localStorage.getItem("productsAll"))}},getters:{products:function(t){return t.products.filter(function(e){return e.category===t.categories||"all"===t.categories}).filter(function(e){return t.price1<e.origin_price&&e.origin_price<t.price2}).filter(function(t){return 1===t.is_enabled})},productsAll:function(t){return t.productsAll.filter(function(t){return 1===t.is_enabled})},productAlone:function(t){return t.productAlone},productAloneId:function(t){return t.productAlone.id},pagination:function(t){return t.pagination}}},b=(n("ac6a"),{namespaced:!0,state:{cart:{carts:[]},coupons:[]},actions:{getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/cart");t.commit("LOADING",!0,{root:!0}),m.a.get(e).then(function(e){e.data.success?t.commit("GETCART",e.data.data):console.log("失敗!"),t.commit("LOADING",!1,{root:!0})})},addCart:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/cart");t.commit("LOADING",!0,{root:!0}),m.a.post(n,{data:e}).then(function(e){e.data.success?t.dispatch("getCart"):console.log("失敗!"),t.commit("LOADING",!1,{root:!0})})},removeCartItem:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/cart/").concat(e);t.commit("LOADING",!0,{root:!0}),m.a.delete(n).then(function(e){e.data.success?(t.commit("LOADING",!1,{root:!0}),t.dispatch("getCart")):t.commit("LOADING",!1,{root:!0})})},addCouponCode:function(t,e){var n=e.coupon,o=e.vm,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/coupon");t.commit("LOADING",!0,{root:!0}),m.a.post(c,{data:n}).then(function(e){e.data.success?(t.commit("LOADING",!1,{root:!0}),t.dispatch("getCart")):(o.$bus.$emit("messagePush","折價券無效！","warning"),t.commit("LOADING",!1,{root:!0}))})},clearCart:function(t,e){t.commit("LOADING",!0,{root:!0}),e.forEach(function(e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/cart/").concat(e.id);m.a.delete(n).then(function(e){e.data.success?(t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0})):t.commit("LOADING",!1,{root:!0})})})}},mutations:{GETCART:function(t,e){t.cart=e},GETCOUPON:function(t,e){var n=t.coupons.every(function(t){return e!==t});n&&(t.coupons.push(e),localStorage.setItem("coupons",JSON.stringify(t.coupons)))},GETCOUPONS:function(t){t.coupons=JSON.parse(localStorage.getItem("coupons"))}},getters:{cart:function(t){return t.cart},cartQty:function(t){return t.cart.carts.length},coupons:function(t){return t.coupons}}}),v={namespaced:!0,state:{orders:[],orderEmail:"",order:{user:{}}},actions:{getAllOrders:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/orders?page=").concat(e);m.a.get(n).then(function(e){t.commit("GETALLORDERS",e.data.orders)})},creatOrder:function(t,e){var n=e.order,o=e.vm,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/order");t.commit("LOADING",!0,{root:!0}),m.a.post(c,{data:n}).then(function(e){t.commit("LOADING",!1,{root:!0}),o.$router.push("checkout/".concat(e.data.orderId))})},getOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/order/").concat(e);t.commit("LOADING",!0,{root:!0}),m.a.get(n).then(function(e){t.commit("LOADING",!1,{root:!0}),t.commit("GETORDER",e.data.order)})},payOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/pay/").concat(e);t.commit("LOADING",!0,{root:!0}),m.a.post(n).then(function(n){t.commit("LOADING",!1,{root:!0}),t.dispatch("getOrder",e)})}},mutations:{GETALLORDERS:function(t,e){t.orders=e},ORDERFILTER:function(t,e){t.orderEmail=e},GETORDER:function(t,e){t.order=e}},getters:{order:function(t){return t.order},orderFilter:function(t){return t.orders.filter(function(e){return e.user.email===t.orderEmail})}}},k={namespaced:!0,state:{bproducts:[],bpagination:{}},actions:{getBProducts:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/admin/products?page=").concat(e);t.commit("LOADING",!0,{root:!0}),m.a.get(n).then(function(e){t.commit("LOADING",!1,{root:!0}),t.commit("BPRODUCTS",e.data.products),t.commit("BPAGINATION",e.data.pagination)})},delProduct:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/admin/product/").concat(e);t.commit("LOADING",!0,{root:!0}),m.a.delete(n).then(function(e){t.dispatch("getBProducts"),t.commit("LOADING",!1,{root:!0})})},uploadFile:function(t,e){var n=this,o=e.formData,c=e.vm,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/admin/upload");t.commit("LOADING",!0,{root:!0}),m.a.post(a,o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){if(e.data.success){var o=e.data.imageUrl;t.commit("TEMPPRODUCTIMG",{vm:c,data:o})}else{var a=e.data.message,r="danger";n.$store.dispatch("messagePush",{message:a,status:r})}}),t.commit("LOADING",!1,{root:!0})},updateProduct:function(t,e){var n=e.updateFile,o=e.httpMethod,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("spenguin10","/admin/product/").concat(n.id);m.a[o](c,{data:n}).then(function(e){e.data.success?t.dispatch("getBProducts"):console.log("上傳失敗")})}},mutations:{BPRODUCTS:function(t,e){t.bproducts=e},BPAGINATION:function(t,e){t.bpagination=e},TEMPPRODUCTIMG:function(t,e){var n=e.vm,o=e.data;n.$set(n.tempProducts,"imageUrl",o)}},getters:{products:function(t){return t.bproducts},pagination:function(t){return t.bpagination}}};o["a"].use(f["a"]);var A=new f["a"].Store({strict:!0,state:{isLoading:!1,messages:[]},actions:{updateLoading:function(t,e){t.commit("LOADING",e)},messagePush:function(t,e){var n=e.message,o=e.status,c=Math.floor(new Date/1e3);t.commit("MESSAGES",{message:n,status:o,timestamp:c}),setTimeout(function(){t.commit("MESSAGESClOSE")},5e3)}},mutations:{LOADING:function(t,e){t.isLoading=e},MESSAGES:function(t,e){var n=e.message,o=e.status,c=e.timestamp;t.messages.push({message:n,status:o,timestamp:c})},MESSAGESClOSE:function(t){t.messages.splice(0,1)}},getters:{isLoading:function(t){return t.isLoading},messages:function(t){return t.messages}},modules:{productsModules:g,cartsModules:b,orderModules:v,backModules:k}}),O=n("a7fe"),N=n.n(O),L=(n("4989"),n("9062")),I=n.n(L),P=(n("e40d"),n("7bb1")),D=n("427f"),E=n.n(D);o["a"].prototype.$bus=new o["a"]({});n("a481"),n("c5f6");var G=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,function(t,e,n){var o=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return o}))},C=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()},S=function(t){return t=""+t,t.length>=2?t:"0"+t};o["a"].use(N.a,m.a),o["a"].use(f["a"]),o["a"].use(P["a"]),P["a"].Validator.localize("zhTW",E.a),o["a"].component("Loading",I.a),o["a"].filter("currency",G),o["a"].filter("date",C),o["a"].filter("number",S),o["a"].config.productionTip=!1,m.a.defaults.withCredentials=!0,new o["a"]({router:h,store:A,render:function(t){return t(d)}}).$mount("#app"),h.beforeEach(function(t,e,n){if(t.meta.requiresAuth){var o="".concat("https://vue-course-api.hexschool.io","/api/user/check");m.a.post(o).then(function(t){t.data.success?(console.log("驗證通過"),n()):(console.log("驗證失敗"),n({path:"./login"}))})}else n()})}});
//# sourceMappingURL=app~d0ae3f07.27b24925.js.map